{% extends "layout.html" %}

{% block content %}
<br>
    <div class="container">
        <h1>Information for patient in bed number: {{ bed.bed_number }}</h1>
    </div>
    <table class="table table-striped">
        <tbody>
            <tr><td>Patient Number:</td><td>{{ patient.identifying_number }}</td></tr>
            <tr><td>Date of Birth:</td><td>{{ patient.date_of_birth }}</td></tr>
            <tr><td>Presenting complaint:</td><td>{{ patient.presenting_complaint }}</td></tr>
            <tr><td>plan:</td><td>{{ patient.plan }}</td></tr>
            <tr><td>Past surgical history:</td><td>{{ patient.past_surgical_history }}</td></tr>
            <tr><td>Past Medical history:</td><td>{{ patient.past_medical_history }}</td></tr>
            <tr><td>Medications:</td><td>{{ patient.medications }}</td></tr>
            <tr><td>Social History:</td><td>{{ patient.social_history }}</td></tr>
            <tr><td>Allergies:</td><td>{{ patient.allergies }}</td></tr>
            <tr><td>Investigations:</td><td>{{ patient.investigations }}</td></tr>
        </tbody>
        </table>
        <div class="container">
            <button class="btn btn-secondary btn-lg" data-toggle="modal" data-target="#dishcargeModal" href="{{ url_for('discharge', pn=bed.patient.identifying_number) }}">Discharge</button>
        </div>
        <br>
        <!-- Modal -->
        <div class="modal fade" id="dishcargeModal" tabindex="-1" role="dialog" aria-labelledby="dishcargeModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="dishcargeModalLabel">Discharge Patient</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                Discharging a patient will permanently erase their details from the database. <br>
                There is no undo button. <br>
                Are you sure you want to continue?
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <form action="{{ url_for('discharge', pn=bed.patient.identifying_number) }}" method="POST">
                    <input class='btn btn-danger' type="submit" value="Discharge">
                </form>
                </div>
            </div>
            </div>
        </div>
{% endblock content %}